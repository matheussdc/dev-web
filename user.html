<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página do Usuário</title>
    <link id="cssFile" rel="stylesheet" href="user.css">
    <script>
        function changeCSS(element) {
            css = document.getElementById("cssFile");
            css.href = element.getAttribute("data-cssAlt");
            troca = css.href.includes("user.css") ? "user-accessible.css" : "user.css";
            element.setAttribute("data-cssAlt", troca);
            defaulttxt = "Versão Acessível";
            alttxt = "Voltar para Versão Padrão";
            txt = css.href.includes("user.css") ? defaulttxt : alttxt;
            element.innerHTML = txt;
        }
        function openmodal(btn){
            var row = btn.parentNode.parentNode;
            var valorPuro = row.cells[0].innerText
            var valor = parseInt(valorPuro)
            var modal = document.getElementById(`modal${valor}`)
            modal.style.display="table";
            span = modal.getElementsByClassName("close")[0]
            texto = modal.getElementsByTagName("h2")[0]
            texto.innerText =`Anotações sobre o teste ${valorPuro}`
            span.onclick = function() {modal.style.display = "none";}
        }
    </script>
</head>
<body>
    <header>
        <h1>Monitoramento de Testes</h1>
        <h2>Humberto Monte - Nível de Acesso 3: Administrador</h2>
        <nav>
            <a href="projeto.html">Gerenciar Projetos</a>
            <a href="javascript:;" onclick="changeCSS(this)" data-cssAlt="user-accessible.css">Versão Acessível</a>
        </nav>
    </header>

    <main>
        <div class="tab-buttons">
            <a href="#projetos">Projetos</a>
            <a href="#registro">Novo Registro</a>
        </div>
        <div class="columns">
        <section id="projetos" class="form-section">
            <h2>Projetos</h2>
            <label for="projeto-select">Selecione um projeto:</label>
            <select id="projeto-select" name="projeto-select">
                <option>Projeto 1</option>
                <option>Projeto 2</option>
            </select>
            <a href="#" class="close-btn">Fechar</a>
            <fieldset>
                <legend style="font-weight: bold;">Informações do Projeto</legend>
                <p>Total de Registros: 2</p>
                <p>Testes Aprovados: 1</p>
                <p>Testes Reprovados: 1 </p>
            </fieldset>
            
        </section>

        <section id="registro" class="form-section">
            <h2>Adicionar Registro</h2>
            <form oninput="nota.value=parseInt(avaliacao.value)">
                <label for="hardware">Hardware ID</label>
                <input id="hardware" type="text" required>
                <label for="modelo">Modelo</label>
                <input id="modelo" type="text" required>
                <label for="temperatura">Temperatura</label>
                <input id="temperatura" type="text" required>
                <label for="pressao">Pressão</label>
                <input id="pressao" type="text" required>
                <label for="altura">Altura</label>
                <input id="altura" type="text" required>
                <label for="data">Data</label>
                <input id="data" type="date" required>
                <label for="avaliacao">Nota de avaliação do teste: <output for="avaliacao" name="nota"></output></label>
                <input id="avaliacao" type="range" min="0" max="10" name="avaliacao" required>
                <label for="descricao">Detalhes adicionais</label>
                <textarea id="descricao" class="text-desc" rows="5"></textarea>
                <button id="salvar" type="submit">Salvar</button>
            </form>
            <a href="#" class="close-btn">Fechar</a>
        </section>

        <section class="table-container">
            <div class="table-header">
                <h2>Registros de Testes do Projeto 1</h2>
                <button class="download-btn">Download dos Registros</button>
            </div>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Teste ID</th>
                            <th>Hardware ID</th>
                            <th>Modelo</th>
                            <th>Temperatura (ºC)</th>
                            <th>Pressão (P)</th>
                            <th>Altura (m)</th>
                            <th>Data</th>
                            <th>Avaliação</th>
                            <th>Resultado</th>
                            <th>Detalhes</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>001</td>
                            <td>123</td>
                            <td>Modelo X</td>
                            <td>75</td>
                            <td>1013</td>
                            <td>10</td>
                            <td>01-01-2025</td>
                            <td>10</td>
                            <td>Aprovado</td>
                            <td></td>
                            <td>
                                <button>Editar</button>
                                <button>Deletar</button>
                            </td>
                        </tr>
                        <tr>
                            <td>002</td>
                            <td>456</td>
                            <td>X v2</td>
                            <td>85</td>
                            <td>988</td>
                            <td>25</td>
                            <td>15-01-2025</td>
                            <td>8</td>
                            <td>Reprovado</td>
                            <td><button onclick="openmodal(this)">Ver</button></td>
                            <td>
                                <button>Editar</button>
                                <button>Deletar</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
        </div>
    </main>
    <div class="modals">
        <div id="modal2" class="modal">
            <div class="modal-cell">
              <div class="modal-content">
                <div class="modal-header">
                  <span class="close">&times;</span>
                  <h2>Detalhes do Teste 001</h2>
                </div>
                <div class="modal-body">
                  <p>testando 1 2 1 2 testando 1 2 3</p>
                  <p>pipipipopopo.</p>
                </div>
              </div>
            </div>
        </div>
    </div>
</body>
</html>
